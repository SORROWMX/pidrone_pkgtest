<launch>
    <node pkg="nodelet" type="nodelet" name="aruco_nodelet_manager" args="manager"/>

    <!-- detect aruco markers -->
    <node pkg="nodelet" clear_params="true" type="nodelet" name="aruco_detect" args="load aruco_pose/aruco_detect aruco_nodelet_manager">
        <remap from="image_raw" to="/main_camera/image_raw"/>
        <remap from="camera_info" to="/main_camera/camera_info"/>
        <param name="length" value="0.33"/>
    </node>

    <!-- aruco map -->
    <node pkg="nodelet" clear_params="true" type="nodelet" name="aruco_map" args="load aruco_pose/aruco_map aruco_nodelet_manager">
        <remap from="image_raw" to="/main_camera/image_raw"/>
        <remap from="camera_info" to="/main_camera/camera_info"/>
        <remap from="markers" to="aruco_detect/markers"/>
        <param name="map" value="$(find aruco_pose)/map/map.txt"/>
    </node>
</launch> 